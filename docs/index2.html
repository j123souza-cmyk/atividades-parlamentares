<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Sessões do Plenário – Câmara dos Deputados</title>

<style>
body { font-family: Arial, sans-serif; margin: 16px; }
.evento {
  border-bottom: 1px solid #ddd;
  padding: 10px 0;
}
.evento strong { display:block; }
.info { font-size: 13px; color: #555; }
.tag {
  display:inline-block;
  font-size:12px;
  background:#e3f2fd;
  padding:2px 6px;
  border-radius:4px;
  margin-top:4px;
}
</style>
</head>
<body>

<h1>Sessões Recentes do Plenário</h1>
<p><em>Nessas sessões ocorrem as votações oficiais.</em></p>

<p id="status">Carregando sessões…</p>
<div id="lista"></div>

<script>
const BASE = "https://dadosabertos.camara.leg.br/api/v2";
const status = document.getElementById("status");
const lista = document.getElementById("lista");

fetch(`${BASE}/eventos?ordem=DESC&ordenarPor=dataHoraInicio&itens=50`)
  .then(r => r.json())
  .then(json => {
    status.innerText = "";

    const eventos = json.dados || [];

    if (eventos.length === 0) {
      status.innerText = "Nenhuma sessão encontrada.";
      return;
    }

    eventos.forEach(ev => {
      const div = document.createElement("div");
      div.className = "evento";
      div.innerHTML = `
        <strong>${new Date(ev.dataHoraInicio).toLocaleString()}</strong>
        ${ev.titulo || "Sessão do Plenário"}<br>
        <span class="info">${ev.descricao || "Sessão com deliberações parlamentares."}</span><br>
        <span class="tag">${ev.situacao || "Sessão oficial"}</span>
      `;
      lista.appendChild(div);
    });
  })
  .catch(err => {
    console.error(err);
    status.innerText = "Erro ao carregar sessões.";
  });
</script>

</body>
</html>
